version: "3.8"
services:
  web:
    image: ghcr.io/rosenweg/telstar-modbus-web-viewer:latest
    container_name: telstar-modbus-debug
    restart: unless-stopped
    environment:
      - MODBUS_HOST=${MODBUS_HOST}
      - MODBUS_PORT=${MODBUS_PORT:-502}
      - MODBUS_UNIT_ID=${MODBUS_UNIT_ID:-1}
      - MODBUS_ADDRESS_OFFSET=${MODBUS_ADDRESS_OFFSET:-0}
      - INTERVAL=${INTERVAL:-10}
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
      - WEB_PORT=${WEB_PORT:-5000}
    ports:
      - "${WEB_PORT:-5000}:${WEB_PORT:-5000}"  # Web interface
    networks:
      - default
